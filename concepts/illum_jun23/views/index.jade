!!! 5
html
	head
		script(src="/socket.io/socket.io.js")
		script
			var socket = io.connect(document.location.href);
				socket.on('httpServer', function (data) {

					data = JSON.parse(data);
					var list = document.getElementById('Gourds');
					var li = document.getElementById(data.address);
					
					if(!li) {
						li = document.createElement('li');
						li.id = data.address; 
						list.appendChild(li);
					}
					var i = data.length;					
					var gourd;
					var li;

					while(i--) {
						gourd = data[i];
						li = document.getElementById(gourd.address);
						
						if(!li) {
							li = document.createElement('li');
							li.id = gourd.address; 
							list.appendChild(li);
						}

						li.innerHTML = 
							gourd.address 
							+ ' - ' + ((gourd.listening) ? 'listening' : 'deaf')
							+ ' - ' + ((gourd.hot) ? 'hot' : 'cold')
							+ ' - color: ' + gourd.colorTemp 
							+ ' - dimming: ' + gourd.dimming;
					}

					console.log(gourd);
					socket.emit('tcp', '{"command":"set_colorTemp", "parameters":{"address":"localhost", "colorTemp":"4000"}}');
				});
	body
		ul#Gourds
